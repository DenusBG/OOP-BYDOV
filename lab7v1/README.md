# üìë –ó–≤—ñ—Ç –ø—Ä–æ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—É —Ä–æ–±–æ—Ç—É ‚Ññ7: –û–±—Ä–æ–±–∫–∞ IO/–ú–µ—Ä–µ–∂–µ–≤–∏—Ö –ü–æ–º–∏–ª–æ–∫ —Ç–∞ –ü–∞—Ç–µ—Ä–Ω Retry

## üí° –¢–µ–º–∞ —Ç–∞ –ú–µ—Ç–∞ –†–æ–±–æ—Ç–∏

| | |
| :--- | :--- |
| **–¢–µ–º–∞:** | –û–±—Ä–æ–±–∫–∞ IO/–º–µ—Ä–µ–∂–µ–≤–∏—Ö –ø–æ–º–∏–ª–æ–∫ —Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–∞—Ç–µ—Ä–Ω—É Retry. |
| **–ú–µ—Ç–∞:** | –ù–∞–≤—á–∏—Ç–∏—Å—è –æ–±—Ä–æ–±–ª—è—Ç–∏ —Ç–∏–ø–æ–≤—ñ —Ç–∏–º—á–∞—Å–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏ (IO/–º–µ—Ä–µ–∂–µ–≤—ñ) —Ç–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω–∏–π –¥–æ–ø–æ–º—ñ–∂–Ω–∏–π –∫–ª–∞—Å **`RetryHelper`** –∑ –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–æ—é –∑–∞—Ç—Ä–∏–º–∫–æ—é –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –≤—ñ–¥–º–æ–≤–æ—Å—Ç—ñ–π–∫–æ—Å—Ç—ñ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—ñ–≤. |
| **–í–∞—Ä—ñ–∞–Ω—Ç:** | **1. –°—Ü–µ–Ω–∞—Ä—ñ–π: –ß–∏—Ç–∞–Ω–Ω—è —Ñ–∞–π–ª—É.** |

---

## üöÄ –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ü–∞—Ç–µ—Ä–Ω—É Retry

–î–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –≤—ñ–¥–º–æ–≤–æ—Å—Ç—ñ–π–∫–æ—Å—Ç—ñ –±—É–≤ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Å—Ç–∞—Ç–∏—á–Ω–∏–π —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω–∏–π –∫–ª–∞—Å **`RetryHelper`** –∑ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–º –º–µ—Ç–æ–¥–æ–º `ExecuteWithRetryAsync<T>()`.

### –ú–µ—Ö–∞–Ω—ñ–∑–º –í—ñ–¥–º–æ–≤–æ—Å—Ç—ñ–π–∫–æ—Å—Ç—ñ
1.  **–ï–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–∞ –ó–∞—Ç—Ä–∏–º–∫–∞ (Exponential Backoff):** –ß–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –º—ñ–∂ —Å–ø—Ä–æ–±–∞–º–∏ –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è —É –≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω—ñ–π –ø—Ä–æ–≥—Ä–µ—Å—ñ—ó ($Delay = InitialDelay \cdot 2^{(attempt - 1)}$), —â–æ–± –Ω–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Ç–∏–º—á–∞—Å–æ–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π —Ä–µ—Å—É—Ä—Å.
2.  **–í–∏–±—ñ—Ä–∫–æ–≤–∞ –û–±—Ä–æ–±–∫–∞:** –î–µ–ª–µ–≥–∞—Ç `Func<Exception, bool> shouldRetry` –¥–æ–∑–≤–æ–ª—è—î –ø–æ–≤—Ç–æ—Ä—é–≤–∞—Ç–∏ —Å–ø—Ä–æ–±–∏ –ª–∏—à–µ –¥–ª—è —Ç–∏–º—á–∞—Å–æ–≤–∏—Ö –ø–æ–º–∏–ª–æ–∫ (`FileNotFoundException`, `HttpRequestException`), –Ω–µ–≥–∞–π–Ω–æ –∑—É–ø–∏–Ω—è—é—á–∏—Å—å –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö (`ArgumentException`).

### –°—Ü–µ–Ω–∞—Ä—ñ—ó –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó (–í–∞—Ä—ñ–∞–Ω—Ç 1)

| –ö–ª–∞—Å | –ú–µ—Ç–æ–¥ | –¢–∏–ø –í–∏–Ω—è—Ç–∫—É | –õ–æ–≥—ñ–∫–∞ –Ü–º—ñ—Ç–∞—Ü—ñ—ó | –£—Å–ø—ñ—Ö –Ω–∞ –°–ø—Ä–æ–±—ñ |
| :--- | :--- | :--- | :--- | :--- |
| **`FileProcessor`** | `ReadFile` | `FileNotFoundException` | –Ü–º—ñ—Ç–∞—Ü—ñ—è –Ω–µ–≤–¥–∞—á—ñ 2 —Ä–∞–∑–∏. | 3-–π |
| **`NetworkClient`** | `DownloadData` | `HttpRequestException` | –Ü–º—ñ—Ç–∞—Ü—ñ—è –Ω–µ–≤–¥–∞—á—ñ 3 —Ä–∞–∑–∏. | 4-–π |
| **–ö–æ–Ω—Ç—Ä–æ–ª—å** | –ê–Ω–æ–Ω—ñ–º–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è | `ArgumentException` | –ù–µ –ø—ñ–¥–ª—è–≥–∞—î –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—é. | **0** (–ù–µ–≥–∞–π–Ω–∞ –∑—É–ø–∏–Ω–∫–∞) |


## üí° –í–∏—Å–Ω–æ–≤–æ–∫

–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–∞ —É—Å–ø—ñ—à–Ω–æ. –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π** –¥–æ–ø–æ–º—ñ–∂–Ω–∏–π –∫–ª–∞—Å `RetryHelper` –¥–æ–∑–≤–æ–ª—è—î –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–Ω–æ–≤–ª—é–≤–∞—Ç–∏—Å—è –ø—ñ—Å–ª—è —Ç–∏–ø–æ–≤–∏—Ö IO —Ç–∞ –º–µ—Ä–µ–∂–µ–≤–∏—Ö –∑–±–æ—ó–≤, –∑–Ω–∞—á–Ω–æ –ø—ñ–¥–≤–∏—â—É—é—á–∏ –π–æ–≥–æ **–≤—ñ–¥–º–æ–≤–æ—Å—Ç—ñ–π–∫—ñ—Å—Ç—å** –±–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –≥–æ–ª–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É.